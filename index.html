<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SIBOL</title>
  <link rel="stylesheet" href="style.css">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="icon" href="images/logo.png" type="image/png">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark" style="background: #6a0dad;">
    <div class="container-fluid">
      <!-- Logo -->
      <a class="navbar-brand d-flex align-items-center" href="#">
        <img src="images/logo.png" alt="Logo" width="40" class="me-2">
        <span>SIBOL</span>
      </a>

      <!-- Burger Icon -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Nav Links -->
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#projects">Projects</a></li>
          <li class="nav-item"><a class="nav-link" href="#officers">Officers</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Banner Section -->
  <header id="home" class="banner text-center p-4">
    <img src="images/banner.jpg" alt="Banner" class="img-fluid">
    <h1>SANGUANIANG MAG AARAL NG LORMA</h1>
    <p>A.Y. 2025 - 2026</p>
  </header>

  <!-- Officers Section -->
  <section id="officers" class="officers-section">
    <h2 class="section-title">ELECTED OFFICERS</h2>
    <div class="officers-container">

      <!-- Example Officer -->
      <div class="officer-card">
        <div class="officer-inner">
          <div class="officer-front">
            <img src="images/mira.jpeg" alt="President">
            <h3>President</h3>
            <p>RENDON, Almira Victoria U.</p>
          </div>
          <div class="officer-back">
            <h3>About</h3>
            <p>Leads the organization, represents the student body, and ensures smooth operations.</p>
          </div>
        </div>
      </div>

      <div class="officer-card">
  <div class="officer-inner">
    <div class="officer-front">
      <img src="images/IMG_2965.jpg" alt="Vice President CHS">
      <h3>Vice President - CHS</h3>
      <p>GARCIA, Kier-Von Carlo C.</p>
    </div>
    <div class="officer-back">
      <h3>About</h3>
      <p>Oversees and represents the CHS Campus, supporting the president in implementing programs, addressing student concerns, and ensuring active student engagement.</p>
    </div>
  </div>
</div>

<div class="officer-card">
  <div class="officer-inner">
    <div class="officer-front">
      <img src="images/michael.jpg" alt="Vice President CLI">
      <h3>Vice President - CLI</h3>
      <p>OGHENEKARO, Michael V.</p>
    </div>
    <div class="officer-back">
      <h3>About</h3>
      <p>Leads student initiatives in the CLI Campus, coordinating activities, promoting collaboration, and working closely with the president to strengthen student participation.</p>
    </div>
  </div>
</div>

      <div class="officer-card">
        <div class="officer-inner">
          <div class="officer-front">
            <img src="images/fina.jpg" alt="Secretary">
            <h3>Secretary</h3>
            <p>SORIANO, Fina Riki A.</p>
          </div>
          <div class="officer-back">
            <h3>About</h3>
            <p>Handles documentation, records, and meeting notes.</p>
          </div>
        </div>
      </div>

      <div class="officer-card">
        <div class="officer-inner">
          <div class="officer-front">
            <img src="images/angel.jpg" alt="Treasurer">
            <h3>Treasurer</h3>
            <p>GACAYAN, Princess Angel B.</p>
          </div>
          <div class="officer-back">
            <h3>About</h3>
            <p>Manages financial records and budget allocations.</p>
          </div>
        </div>
      </div>

      <div class="officer-card">
        <div class="officer-inner">
          <div class="officer-front">
            <img src="images/cyrus.jpeg" alt="Auditor">
            <h3>Auditor</h3>
            <p>TADINA, Prince Cyrus Jhoriel C.</p>
          </div>
          <div class="officer-back">
            <h3>About</h3>
            <p>Ensures transparency and accountability in all transactions.</p>
          </div>
        </div>
      </div>

      <div class="officer-card">
        <div class="officer-inner">
          <div class="officer-front">
            <img src="images/yvan.jpeg" alt="PRO">
            <h3>Public Relation Officer</h3>
            <p>JACLA, Fredrich Yvan A. </p>
          </div>
          <div class="officer-back">
            <h3>About</h3>
            <p>Promotes activities and handles communication with the public.</p>
          </div>
        </div>
      </div>

      <div class="officer-card">
        <div class="officer-inner">
          <div class="officer-front">
            <img src="images/jeanne.jpg" alt="Business Manager 1">
            <h3>Business Manager 1</h3>
            <p>GARCIA, Jeanne Ariel C.</p>
          </div>
          <div class="officer-back">
            <h3>About</h3>
            <p>Assists in fundraising and managing organizational resources.</p>
          </div>
        </div>
      </div>

      <div class="officer-card">
        <div class="officer-inner">
          <div class="officer-front">
            <img src="images/jasper.jpg" alt="Business Manager 2">
            <h3>Business Manager 2</h3>
            <p>LAPITAN, Jasper Ace N.</p>
          </div>
          <div class="officer-back">
            <h3>About</h3>
            <p>Supports resource planning and logistical needs of events.</p>
          </div>
        </div>
      </div>

      <div class="officer-card">
        <div class="officer-inner">
          <div class="officer-front">
            <img src="images/IMG_2942.jpg" alt="Peace Officer 1">
            <h3>Peace Officer 1</h3>
            <p>ALTIS, Francine Myra B.</p>
          </div>
          <div class="officer-back">
            <h3>About</h3>
            <p>Maintains discipline and order during activities.</p>
          </div>
        </div>
      </div>

      <div class="officer-card">
        <div class="officer-inner">
          <div class="officer-front">
            <img src="images/29E66B46-4F5B-44B1-926C-18C34046ADCF.jpeg" alt="Peace Officer 2">
            <h3>Peace Officer 2</h3>
            <p>JULATON, Azroe Kiel</p>
          </div>
          <div class="officer-back">
            <h3>About</h3>
            <p>Ensures student safety and assists in conflict resolution.</p>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- Projects Section -->
  <section id="projects" class="placeholder-section text-center p-5">
    <h2 class="section-title">PROJECTS</h2>
    <p>Our projects will be displayed here soon.</p>
  </section>

  <!-- Contact Section -->
<section id="contact" class="placeholder-section">
    <h2 class="section-title">CONTACT</h2>
    <p>You can reach us at:</p>
    <p><strong>Email:</strong> smlormaunified@gmail.com</p>
    <a href="https://mail.google.com/mail/?view=cm&fs=1&to=smlormaunified@gmail.com"
       target="_blank" 
       class="email-btn">
       Send Email
    </a>
    </section>




<section id="comments" class="placeholder-section p-5" style="background:#f8f9fa;">
  <!-- Section Title -->
  <h2 class="section-title text-">COMMENTS</h2>

  <!-- Login Status -->
  <div id="loginStatus" class="mb-3 text-center"></div>

  <!-- Comment Form -->
  <div class="card mb-4 shadow-sm" style="max-width:600px; margin:auto; border-radius:15px;">
    <div class="card-body">
      <form id="commentForm">
        <div class="mb-3">
          <textarea id="comment" class="form-control" rows="3" placeholder="Write your comment..." style="border-radius:10px; padding:10px;" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary w-100" style="background:#6a0dad; border:none; border-radius:10px;">Post Comment</button>
      </form>
    </div>
  </div>

  <!-- Display Comments -->
<div id="commentList" class="mt-4" style="max-width:700px; margin:auto;">
  <h4 class="text-center" style="color:#6a0dad; margin-bottom:20px;">Recent Comments:</h4>
  <ul class="list-group" style="list-style:none; padding:0;">
  </ul>
</div>

</section>



<!-- Firebase SDK and Comment Functionality -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
  import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  // Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyDZ7JGeSQ_O2ZfR77CcM6-qnAs47RCH-Os",
    authDomain: "sibol-comments.firebaseapp.com",
    projectId: "sibol-comments",
    storageBucket: "sibol-comments.appspot.com",
    messagingSenderId: "731919589721",
    appId: "1:731919589721:web:abcdef123456"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);
  const provider = new GoogleAuthProvider();

  const loginStatus = document.getElementById("loginStatus");
  const commentForm = document.getElementById("commentForm");
  const commentInput = document.getElementById("comment");
  const commentList = document.querySelector("#commentList ul");

  let currentUser = null;

  // Google Login
  function login() {
    signInWithPopup(auth, provider)
      .then(result => {
        const email = result.user.email;
        if (!email.endsWith("@lorma.edu")) {
          alert("You must use your lorma.edu email.");
          auth.signOut();
        }
      })
      .catch(error => console.error("Login error:", error));
  }

  // Observe Auth State
  onAuthStateChanged(auth, user => {
    if (user && user.email.endsWith("@lorma.edu")) {
      currentUser = user;
      loginStatus.innerHTML = `<p>Signed in as <strong>${user.displayName}</strong></p>`;
    } else {
      currentUser = null;
    }
  });

  // Submit Comment
// Submit Comment
commentForm.addEventListener("submit", async e => {
  e.preventDefault();

  if (!currentUser) {
    // alert("You must sign in to post a comment.");  <-- removed
    login();
    return;
  }

  const comment = commentInput.value.trim();
  if (comment) {
    try {
      await addDoc(collection(db, "comments"), {
        text: comment,
        user: currentUser.displayName,
        email: currentUser.email,
        createdAt: serverTimestamp()
      });
      commentInput.value = "";
    } catch (error) {
      console.error("Error posting comment:", error);
      alert("Failed to post comment. Try again later.");
    }
  }
});

  // Real-time Comments
  const q = query(collection(db, "comments"), orderBy("createdAt", "desc"));
  onSnapshot(q, snapshot => {
    commentList.innerHTML = "";
    snapshot.forEach(doc => {
      const data = doc.data();
      const li = document.createElement("li");
      li.className = "list-group-item";
      li.style.borderRadius = "10px";
      li.style.marginBottom = "10px";
      li.style.boxShadow = "0 2px 5px rgba(0,0,0,0.1)";
      li.style.padding = "10px 15px";
      li.innerHTML = `<strong>${data.user || "Anonymous"}:</strong> ${data.text}`;
      commentList.appendChild(li);
    });
  });

  window.login = login;
</script>
